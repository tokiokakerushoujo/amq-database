(this["webpackJsonpamq-analysis"]=this["webpackJsonpamq-analysis"]||[]).push([[0],{160:function(e,t,a){},165:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),c=a.n(l),o=(a(98),a(12)),i=a(56),m=a(82);function u(e){var t=e.data,a=e.columns,n=Object(i.useTable)({columns:a,data:t,initialState:{pageSize:15}},i.useSortBy,i.usePagination),l=(n.getTableProps,n.getTableBodyProps),c=n.headerGroups,o=n.prepareRow,u=n.page,s=n.canPreviousPage,d=n.canNextPage,E=(n.pageOptions,n.pageCount,n.gotoPage),p=n.nextPage,h=n.previousPage,f=(n.setPageSize,n.state),b=f.pageIndex,g=f.pageSize;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,e.children),r.a.createElement("thead",null,c.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",e.getHeaderProps(e.getSortByToggleProps()),e.render("Header"))})))}))),r.a.createElement("tbody",l(),u.map((function(e,t){return o(e),r.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return r.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})),r.a.createElement("tr",null,t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{colSpan:Math.floor(a.length/2),className:"text-center"},r.a.createElement("button",{type:"button",onClick:function(){return E(document.getElementById("pageId").value)}},"Go to page:")," ",r.a.createElement("input",{id:"pageId",type:"text",defaultValue:b+1})," of ",Math.max(Math.ceil(t.length/g)-1,1)),r.a.createElement("td",{colSpan:Math.ceil(a.length/2),className:"text-center"},r.a.createElement("button",{onClick:function(){return E(0)},disabled:!s}," ","<<"," "),r.a.createElement("button",{onClick:h,disabled:!s}," ","<"," "),r.a.createElement("button",{onClick:p,disabled:!d}," ",">"," "),r.a.createElement("button",{onClick:function(){return E(Math.ceil(t.length/g)-1)},disabled:!d}," ",">>"," "))):null))))}var s=a(174),d=a(84),E=a(171),p=a(24),h=a.n(p),f=a(41),b=a(44),g=a.n(b);function v(e){var t=Object(f.a)(),a=t.register,n=t.handleSubmit;t.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{onSubmit:n((function(t){"anime"in t&&(t.anime||delete t.anime),"owner"in t&&"-1"===t.owner&&delete t.owner,"winner"in t&&"-1"===t.winner&&delete t.winner,"game_id"in t&&(t.game_id||delete t.game_id),0!==Object.keys(t).length?e.submit(t):e.submit()}))},r.a.createElement(s.a.Row,null,r.a.createElement(d.a,null,r.a.createElement(s.a.Label,null," Title "),r.a.createElement(s.a.Control,{name:"anime",ref:a,placeholder:"Anime Title"})),r.a.createElement(d.a,null,r.a.createElement(s.a.Label,null," Owner "),r.a.createElement(s.a.Control,{label:"Owner",name:"owner",ref:a,as:"select",placeholder:"Owner"},r.a.createElement("option",{value:"-1"}," Owner "),r.a.createElement("option",{value:"0"}," None "),r.a.createElement("option",{value:"1"}," Brian "),r.a.createElement("option",{value:"2"}," Toki "),r.a.createElement("option",{value:"3"}," Both "))),r.a.createElement(d.a,null,r.a.createElement(s.a.Label,null," Winner "),r.a.createElement(s.a.Control,{label:"Winner",name:"winner",ref:a,as:"select",placeholder:"Winner"},r.a.createElement("option",{value:"-1"}," Winner "),r.a.createElement("option",{value:"0"}," None "),r.a.createElement("option",{value:"1"}," Brian "),r.a.createElement("option",{value:"2"}," Toki "),r.a.createElement("option",{value:"3"}," Both "))),r.a.createElement(d.a,null,r.a.createElement(s.a.Label,null," Game ID "),r.a.createElement(s.a.Control,{name:"game_id",ref:a,placeholder:"Game ID"})),r.a.createElement(E.a,{variant:"secondary",type:"submit"}," ",e.buttonText," "))))}function w(e){var t=Object(f.a)(),a=t.register,l=t.handleSubmit,c=(t.errors,Object(n.useState)()),i=Object(o.a)(c,2),m=i[0],u=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{onSubmit:l((function(t){if(Object.keys(t).length<1)return!1;if("POST"===e.method){if("id"in t&&delete t.id,"date"in t&&delete t.date,!("description"in t))return!1;t.date=h()().format(),e.submit(t)}else"GET"===e.method&&("id"in t&&!t.id&&delete t.id,"description"in t&&!t.description&&delete t.description,m&&(t.date=m),e.submit(t))}))},r.a.createElement(s.a.Row,null,r.a.createElement(d.a,null,r.a.createElement(s.a.Label,null," ID "),r.a.createElement(s.a.Control,{name:"id",ref:a,placeholder:"ID"})),r.a.createElement(d.a,null,r.a.createElement(s.a.Label,null," Description "),r.a.createElement(s.a.Control,{name:"description",ref:a,placeholder:"description"})),r.a.createElement(d.a,null,r.a.createElement(s.a.Label,null," Date "),r.a.createElement("br",null),r.a.createElement("div",{className:"form-control"},r.a.createElement(g.a,{selected:m,onChange:function(e){return u(e)},dateFormat:"yyyy-MM-dd",todayButton:"Now",minDate:h()("2020-05-23")}))),r.a.createElement(E.a,{variant:"secondary",type:"submit"}," ",e.buttonText," "))))}function y(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1];var i=r.a.useMemo((function(){return[{Header:"Title",accessor:"anime"},{Header:"Owner",accessor:"owner",Cell:function(e){switch(e.value){case 1:return"Brian";case 2:return"Toki";case 3:return"Both";default:return"-"}}},{Header:"Winner",accessor:"winner",Cell:function(e){switch(e.value){case 1:return r.a.createElement("div",{className:"brian"}," Brian ");case 2:return r.a.createElement("div",{className:"toki"}," Toki ");case 3:return r.a.createElement("div",{className:"both"}," Both ");default:return"-"}}},{Header:"Game ID",accessor:"game_id"}]}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{submit:function(e){var t=[];if(e){var a=Object.keys(e);for(var n in a)t.push("".concat(a[n],"=").concat(e[a[n]]));t=t.join("&")}fetch("https://amq-test-endpoint-b7kzj2xhiq-an.a.run.app/anime"+"?".concat(t)).then((function(e){return e.json()})).then((function(e){c(e)}))},buttonText:"Filter"}),r.a.createElement("br",null),r.a.createElement(u,{data:l,columns:i},r.a.createElement("tr",null,r.a.createElement("th",{colSpan:i.length,className:"text-center"}," Anime Details "))))}function O(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1],i=Object(n.useMemo)((function(){return[{Header:"ID",accessor:"id"},{Header:"Description",accessor:"description"},{Header:"Date",accessor:"date",Cell:function(e){return h()(e.value).format("ddd DD MMM YYYY")}}]}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{submit:function(e){var t=[];if(e){var a=Object.keys(e);for(var n in a)if("date"!==a[n])t.push("".concat(a[n],"=").concat(e[a[n]]));else{var r=h()(e[a[n]]).format("YYYY-MM-DD");t.push("".concat(a[n],"=").concat(r))}t=t.join("&")}console.log(t),fetch("".concat("https://amq-test-endpoint-b7kzj2xhiq-an.a.run.app/game","?").concat(t)).then((function(e){return e.json()})).then((function(e){return c(e)}))},buttonText:"Filter",method:"GET"}),r.a.createElement("br",null),r.a.createElement(u,{data:l,columns:i},r.a.createElement("tr",null,r.a.createElement("th",{colSpan:i.length,className:"text-center"}," Game Details "))))}var j=a(11),S=a(172),k=a(173);function C(e){var t=Object(f.a)(),a=t.register,l=t.handleSubmit,c=(t.errors,Object(n.useState)()),i=Object(o.a)(c,2),m=i[0],u=i[1],p=Object(n.useState)(),b=Object(o.a)(p,2),v=(b[0],b[1],Object(n.useState)([])),w=Object(o.a)(v,2),y=w[0],O=w[1],C=Object(n.useState)(0),T=Object(o.a)(C,2),x=T[0],N=T[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{fluid:"sm",className:"p-3"},r.a.createElement(s.a,{onSubmit:l((function(e){for(var t=h()(e.date).format("YYYY-MM-DD"),a={description:e.description,date:t},n={list:[]},r=n.list,l=0;l<x;l++)r[l]={anime:e.anime[l],winner:e.winner[l],owner:e.owner[l]};fetch("https://amq-test-endpoint-b7kzj2xhiq-an.a.run.app/game",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){for(var t in r)r[t].game_id=e[0].id;fetch("https://amq-test-endpoint-b7kzj2xhiq-an.a.run.app/batch_anime",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}))})),className:"pt-2"},r.a.createElement(s.a.Row,null,r.a.createElement(d.a,{xs:"1",className:"font-weight-bold"},"New Game:"),r.a.createElement(d.a,{xs:"8"},r.a.createElement(s.a.Control,{name:"description",ref:a,placeholder:"description"})),r.a.createElement(d.a,{xs:"3"},r.a.createElement("div",{className:"form-control"},r.a.createElement(g.a,{selected:m,onChange:function(e){return u(e)},dateFormat:"yyyy-MM-dd",todayButton:"Today",minDate:h()("2020-05-23")})))),y.length>0&&r.a.createElement(s.a.Row,{className:"text-center font-weight-bold"},r.a.createElement(d.a,{sm:{size:3,order:2,offset:1}},r.a.createElement(s.a.Label,null," Title ")),r.a.createElement(d.a,{sm:{size:1,order:3}},r.a.createElement(s.a.Label,null," Winner ")),r.a.createElement(d.a,{sm:{size:1,order:3}},r.a.createElement(s.a.Label,null," Owner "))),y.map((function(e){return e})),r.a.createElement(k.a,{className:"pt-2"},r.a.createElement(d.a,{sm:"1"},r.a.createElement(E.a,{onClick:function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a.Group,{key:"formGroup__".concat(x)},r.a.createElement(s.a.Row,{key:"formGroup_row__".concat(x)},x+1,r.a.createElement(d.a,{md:{size:3,order:2,offset:1}},r.a.createElement(s.a.Control,{placeholder:"title",name:"anime[".concat(x,"]"),ref:a})),r.a.createElement(d.a,{md:{size:1,order:3}},r.a.createElement(s.a.Control,{as:"select",placeholder:"winner",name:"winner[".concat(x,"]"),ref:a},r.a.createElement("option",{value:"0"}," None "),r.a.createElement("option",{value:"1"}," Brian "),r.a.createElement("option",{value:"2"}," Toki "),r.a.createElement("option",{value:"3"}," Both "))),r.a.createElement(d.a,{md:{size:1,order:3}},r.a.createElement(s.a.Control,{as:"select",placeholder:"owner",name:"owner[".concat(x,"]"),ref:a},r.a.createElement("option",{value:"1"}," Brian "),r.a.createElement("option",{value:"2"}," Toki "),r.a.createElement("option",{value:"3"}," Both "))))));N(x+1),O([].concat(Object(j.a)(y),[e]))}}," + ")),r.a.createElement(d.a,{sm:{size:1,order:4,offset:10}},r.a.createElement(E.a,{variant:"secondary",type:"submit"}," Submit "))))))}var T=a(175),x=a(176),N=a(91),B=a(10);a(160);var D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{bg:"light"},r.a.createElement(T.a.Brand,{href:"/home"},"Welcome to AMQ Hell"),r.a.createElement(x.a.Link,{href:"/anime"}," Anime "),r.a.createElement(x.a.Link,{href:"/games"}," Games ")),r.a.createElement(N.a,null,r.a.createElement(B.c,null,r.a.createElement(B.a,{path:"/games"},r.a.createElement(O,null)),r.a.createElement(B.a,{path:"/anime"},r.a.createElement(y,null)),r.a.createElement(B.a,{path:"/"},r.a.createElement(C,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(163),a(164);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},93:function(e,t,a){e.exports=a(165)},98:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.971a99c8.chunk.js.map